---
layout: page
title: 文档：40 队
---

1. 第一次调用onMyTurn时，初始化自己的坐标selfX、selfY、最终的目标的坐标lastGogalX、lastGogalY，以及记录地精行走路径的数组pathVisQ，以及地精行走过的地图的标志myVis，对方行走过的标记mapVisited、地图标记mapFlag。
1. 根据当前地精的坐标值改变getGogalFlag、pathVis、myVis数组。
1. 并根据三者的视野对对方行走过的标记mapVisited、地图标记mapFlag进行更新。
1. 对地图标记mapFlag通过plugMap函数进行封堵，封闭一些死角和环路。
1. 开始利用bfs求得是否存在到达目标的最短路径，如果存在则直接作为下一步的行走方向。
1. 如果不存在，则再次使用bfs寻找“距离目标的麦哈顿距离 + 走到该点的步数”（这个是评价函数） 最小的视野之外的点，作为下步的行走方向。
1. 如果依然不存在则返回上一步。
1. 如果存在的下一步是之前已被访问过的节点，则在该节点的剩下三个方向之间进行选择。
1. 如果move[i] 还是等于undefined则返回上一步。

* 开始三个地精的目标分别是：左下的药水，右上的药水，对方的起始点。
* 当药水已被吃掉或者对方更靠近药水的时候，第一个和第二个的目标转化为最终目标即对方的起始点。
